
# 版本管理

## 1.Git
### 1.1 常用命令
```bash
# 克隆远程仓库
git clone https://github.com/username/repository.git
# 克隆到指定目录
git clone https://github.com/username/repository.git my-project

# 添加所有修改的文件到暂存区
git add .
# 提交并添加信息
git commit -m "feat: add new feature"
# 添加所有文件并提交（跳过暂存区）
git commit -am "fix: bug fix"

# 推送到默认远程仓库
git push
# 推送到指定分支
git push origin main

# 拉取并合并远程更改
git pull
# 拉取指定分支
git pull origin main

# 查看所有分支
git branch -a
# 创建新分支
git branch feature-login
# 切换分支
git checkout feature-login

# 合并指定分支到当前分支
git merge feature-login


# 查看所有标签
git tag
# 创建轻量标签
git tag v1.0.0
# 推送所有标签
git push origin --tags

```

### 1.2 日常工作流示例

```bash
# 1. 克隆项目
git clone https://github.com/username/project.git

# 2. 创建功能分支
git checkout -b feature-user-auth

# 3. 开发并提交
git add .
git commit -m "feat: add user authentication"

# 4. 推送到远程
git push -u origin feature-user-auth

# 5. 切换到主分支并合并
git checkout main
git pull
git merge feature-user-auth

# 6. 打版本标签
git tag -a v1.2.0 -m "User authentication feature"
git push origin v1.2.0

# 7. 删除功能分支
git branch -d feature-user-auth
git push origin --delete feature-user-auth
```
---

### 1.3 PR 流程

```bash
# Fork 项目到自己的账号
# 克隆你的 fork
git clone https://github.com/your-username/repo.git
cd repo
# 添加原仓库为上游
git remote add upstream https://github.com/original/repo.git

# 获取最新代码
git fetch upstream
git checkout -b dev upstream/dev

# 修改代码并提交
git add .
git commit -m "fix: 解决XX问题"
git push origin dev
```

#### 1.3.1 托管仓库提交PR
1. 在 GitHub 你的 fork 页面点击 "Pull Request"
2. 选择：base=原仓库/main ← compare=你的分支
3. 填写清晰的标题和描述
4. 点击创建 PR

#### 1.3.2 PR 描述包含：
- 修改目的
- 相关 Issue 编号
- 测试情况说明
- 截图（如有UI修改）

#### 1.3.3 代码冲突处理
```bash
# 同步最新代码
git fetch upstream
git rebase upstream/dev

# 解决冲突后继续
git add .
git rebase --continue
git push -f origin your-branch
```

#### 1.3.4. 修改 PR
```bash
# 本地继续修改
git add .
git commit -m "fix: 根据反馈修改"
git push origin your-branch
# PR 会自动更新
```

#### 1.3.5 最佳实践
1. **一个PR只做一件事** - 功能单一，便于审查
2. **及时同步上游** - 减少冲突概率  
3. **保持沟通** - 在PR中积极回复评论
4. **测试充分** - 确保代码质量
5. **文档更新** - 如有接口变更更新文档
---
